<!-- views/posts/post_upload_image_test.ejs -->

<div class="post-page">
    <div class="form">
        <div id = "imageContainer">

        </div>
        <form action="/post/upload" method="post" id="form" enctype="multipart/form-data">
            <div>
                <label for="title">이미지 업로드 테스트</label>
                <input type="file" id="file" name="image" multiple>
            </div>
            
            <div>
                <label for="body">업로드</label>
                <button type = "submit">제출</button>
            </div>
        
        </form>
    </div>
</div>
<script src = "js/fileupload.js"></script>
<!-- <script>
    const form = document.getElementById("form")
    const uploadedImgElem = document.getElementById("file")

    form.addEventListener("submit", submitForm)

    function submitForm(e) {
        e.preventDefault()
        const fileInput = document.getElementById("file")
        const file = fileInput.files[0]
        const formData = new FormData()
        formData.append("image", file)
        const response = fetch("http://localhost:3000/post/upload", {
            method: "post",
            body: formData,
        })
            .then(res => (uploadedImgElem.src = response.url))
            .catch(err => ("Error occured", err))
    }
</script> -->
